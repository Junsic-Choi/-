<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì •ì‚­ ì¥ë¹„ ì£¼ê°„ ê³„íš ì·¨í•© ì‹œìŠ¤í…œ</title>
    <!-- Google Fonts for Modern Typography -->
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* Phase 18: Holiday UI Styles */
        .holiday-section {
            background: #fff;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            border-left: 5px solid #ff4d4f;
            display: flex;
            align-items: center;
            gap: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .holiday-label {
            font-weight: 700;
            color: #333;
            font-size: 0.95rem;
        }

        .holiday-toggles {
            display: flex;
            gap: 0.5rem;
        }

        .holiday-btn {
            padding: 0.4rem 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            background: #f5f5f5;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            font-size: 0.9rem;
        }

        .holiday-btn.active {
            background: #ff4d4f;
            color: #fff;
            border-color: #ff4d4f;
        }

        .holiday-btn:hover {
            background: #e0e0e0;
        }

        .holiday-btn.active:hover {
            background: #ff7875;
        }

        .holiday-column {
            background-color: #fcebeb !important;
        }

        .holiday-column input {
            background-color: #f5f5f5 !important;
            color: #999 !important;
            border-color: #ddd !important;
            cursor: not-allowed;
        }

        .holiday-cell-text {
            color: #ff4d4f;
            font-weight: 700;
            font-size: 0.8rem;
            margin-top: 2px;
        }
    </style>
</head>

<body>
    <div class="app-container">
        <header>
            <div class="header-top">
                <h1>ì£¼ê°„ ì •ì‚­ ê³„íš í˜„í™©</h1>
                <div class="week-picker-container"
                    style="position: relative; display: inline-flex; align-items: center; gap: 10px;">
                    <label>ê¸°ê°„ ì„ íƒ:</label>
                    <div class="week-picker-wrapper" style="position: relative;">
                        <!-- Custom text display -->
                        <div id="weekDisplay" class="week-display"
                            style="padding: 0.6rem 1rem; background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 6px; color: var(--text-main); font-weight: 500; cursor: pointer;">
                            ë¡œë”©ì¤‘...
                        </div>
                        <!-- Invisible native week input -->
                        <input type="week" id="weekPicker" class="week-picker">
                    </div>
                    <!-- Moved Manager Filter here -->
                    <div class="filter-group" style="margin-left: 10px;">
                        <label for="managerFilter" style="font-weight: 600; font-size: 0.9rem;">ğŸ‘¤ ë‹´ë‹¹ì:</label>
                        <select id="managerFilter"
                            style="padding: 0.5rem; border-radius: 4px; border: 1px solid var(--border-color); cursor: pointer; font-size: 0.9rem;">
                            <option value="">ì „ì²´ í•­ëª©</option>
                        </select>
                    </div>
                </div>
            </div>
            <p>ê° ì¥ë¹„ë³„ ê³„íšì„ ì…ë ¥í•˜ê³  [í†µí•© í™”ë©´]ì—ì„œ ì „ì²´ í˜„í™©ì„ í™•ì¸í•˜ì„¸ìš”.</p>
        </header>

        <nav class="tabs-container">
            <ul id="equipmentTabs" class="tabs">
                <!-- Tabs will be injected here dynamically -->
            </ul>
        </nav>

        <main>
            <!-- Content for specific equipment -->
            <section id="planEditor" class="tab-content active">
                <div class="editor-header">
                    <h2 id="currentEquipmentTitle">ì¥ë¹„ëª… ë¡œë”©ì¤‘...</h2>
                </div>

                <!-- Phase 18: Holiday Toggle UI -->
                <div class="holiday-section">
                    <div class="holiday-label">ğŸ“… ì¥ë¹„ íœ´ë¬´ì¼ ì„¤ì • (íœ´ë¬´) :</div>
                    <div class="holiday-toggles" id="holidayToggles">
                        <button class="holiday-btn" data-day="mon">ì›”</button>
                        <button class="holiday-btn" data-day="tue">í™”</button>
                        <button class="holiday-btn" data-day="wed">ìˆ˜</button>
                        <button class="holiday-btn" data-day="thu">ëª©</button>
                        <button class="holiday-btn" data-day="fri">ê¸ˆ</button>
                        <button class="holiday-btn" data-day="sat">í† </button>
                        <button class="holiday-btn" data-day="sun">ì¼</button>
                    </div>
                    <div style="font-size: 0.85rem; color: #666; margin-left: auto;">* íœ´ë¬´ë¡œ ì„ íƒëœ ìš”ì¼ì€ ê³„íš ì…ë ¥ì´ ì°¨ë‹¨ë©ë‹ˆë‹¤.</div>
                </div>

                <div class="table-card table-responsive">
                    <table id="planTable">
                        <thead>
                            <tr>
                                <th>NO</th>
                                <th>ë‹´ë‹¹ì</th>
                                <th>ê¸°ì¢…</th>
                                <th>í’ˆëª…</th>
                                <th>í’ˆë²ˆ</th>
                                <th id="thMon">ì›”</th>
                                <th id="thTue">í™”</th>
                                <th id="thWed">ìˆ˜</th>
                                <th id="thThu">ëª©</th>
                                <th id="thFri">ê¸ˆ</th>
                                <th id="thSat">í† </th>
                                <th id="thSun">ì¼</th>
                                <th>ì‘ì—…</th>
                            </tr>
                        </thead>
                        <tbody id="planTableBody">
                            <!-- Rows injected here -->
                        </tbody>
                    </table>
                </div>
                <div class="actions">
                    <button class="btn btn-secondary" id="addRowBtn">+ í–‰ ì¶”ê°€</button>
                    <button class="btn btn-primary" id="saveBtn">âœ“ ê³„íš ì €ì¥í•˜ê¸°</button>
                </div>
            </section>

            <!-- Content for Consolidated View -->
            <section id="consolidatedView" class="tab-content">
                <div class="editor-header">
                    <h2>í†µí•© í™”ë©´ : ì „ì²´ ì£¼ê°„ ì •ì‚­ ê³„íš ë° ì‹¤ì </h2>
                    <div class="filter-group">
                        <button class="btn btn-primary" id="saveActualsBtn">ğŸ’¾ ì‹¤ì  ì €ì¥</button>
                        <button class="btn btn-secondary" id="refreshConsolidatedBtn">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
                    </div>
                </div>
                <div class="table-card table-responsive">
                    <table id="consolidatedTable">
                        <thead>
                            <tr>
                                <th>ì¥ë¹„ (W/C)</th>
                                <th>ë‹´ë‹¹ì</th>
                                <th>ê¸°ì¢…</th>
                                <th>í’ˆëª…</th>
                                <th>í’ˆë²ˆ</th>
                                <th id="thType">êµ¬ë¶„</th>
                                <th id="thConsMon">ì›”</th>
                                <th id="thConsTue">í™”</th>
                                <th id="thConsWed">ìˆ˜</th>
                                <th id="thConsThu">ëª©</th>
                                <th id="thConsFri">ê¸ˆ</th>
                                <th id="thConsSat">í† </th>
                                <th id="thConsSun">ì¼</th>
                            </tr>
                        </thead>
                        <tbody id="consolidatedTableBody">
                            <!-- Rows injected here -->
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <!-- Toast Notification -->
        <div id="toast" class="toast hidden">ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.</div>
    </div>

    <script src="js/app.js"></script>
</body>

</html>